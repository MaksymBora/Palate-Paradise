function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var r=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,r){o[e]=r},r.parcelRequired7c6=a);var n=a("tgDFu"),i=a("2Dfe2");a("lJ5oQ");var l=a("7Y9D8");const d={closeModalOrderBtn:document.querySelector("[data-modal-order-close]"),modalOrder:document.querySelector("[data-modal-order-backdrop]"),modalOrderForm:document.querySelector(".modal-order-form"),modalOrderSubmitBtn:document.querySelector(".modal-order-form__button")};function s(){d.modalOrder.classList.toggle("is-hidden"),d.modalOrder.classList.contains("is-hidden")&&d.modalOrderForm.reset()}d.closeModalOrderBtn.addEventListener("click",s),d.modalOrderForm.addEventListener("input",(function(e){const{name:r,phone:t,email:o,comment:a}=e.currentTarget.elements,n={name:r.value.trim(),phone:t.value.trim(),email:o.value.trim(),comment:a.value.trim()};localStorage.setItem("order-form-state",JSON.stringify(n)),""!==r.value.trim()&&""!==t.value.trim()&&""!==o.value.trim()&&(d.modalOrderSubmitBtn.disabled=!1)})),d.modalOrderForm.addEventListener("submit",(function(r){r.preventDefault();const{name:t,phone:o,email:a,comment:n}=r.currentTarget.elements,i=t.value.trim(),d=o.value.trim(),c=a.value.trim(),m=n.value.trim();if(!/^[a-zA-Zа-яА-Я ]+$/.test(i))return void e(l).Report.failure("Error","Please enter a valid name.","Ok");if(!/^\+\d{12}$/.test(d))return void e(l).Report.failure("Error","Please enter a valid phone number in the format +380000000000.","Ok");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c))return void e(l).Report.failure("Error","Please enter a valid email address.","Ok");if(m.length>200)return void e(l).Report.failure("Error","Please limit the comment to 200 characters.","Ok");const u={name:i,phone:d,email:c,comment:m};e(l).Loading.standard("Sending your order...");const p={method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}};fetch("https://tasty-treats-backend.p.goit.global/api/orders/add",p).then((e=>{if(201===e.status)return e.json();throw e.status>=400&&e.status<500?new Error("Bad Request"):new Error("Server Error")})).then((r=>{console.log("Data received from server:",r),e(l).Report.success("Your order has completed successfully!","","Ok",{position:"center-top",titleMaxLength:"100"}),s()})).catch((r=>{console.error("Error:",r),e(l).Report.failure("Error","An error occurred while submitting the order. Please try again later.","Ok")})).finally((()=>{e(l).Loading.remove()}))})),setTimeout((()=>{function e(){d.modalOrder.classList.toggle("is-hidden"),d.modalOrder.classList.contains("is-hidden")&&d.modalOrderForm.reset()}document.querySelectorAll("button[data-modal-order-cart]").forEach((r=>{r.addEventListener("click",e)}))}),2e3),function(){const e=JSON.parse(localStorage.getItem("order-form-state"))||{},{name:r,phone:t,email:o,comment:a}=e;e&&(d.modalOrderForm.elements.name.value=r||"",d.modalOrderForm.elements.phone.value=t||"",d.modalOrderForm.elements.email.value=o||"",d.modalOrderForm.elements.comment.value=a||"");""!==r&&""!==t&&""!==o||(d.modalOrderSubmitBtn.disabled=!0)}();const c=new(0,n.default),m=document.querySelector(".cart-recipe-list");c.limit=9,async function(){try{(function(e){const r=({thumb:e,area:r,rating:t,description:o,title:a,category:n})=>`<li class="cart-recipe-item">\n        <img class="cart-recipe-img" src="${e}" alt = "${n}"></img>\n        <div class = "cart-text-wrap">\n        <h3 class="cart-recipe-title">${a}</h3>\n        <p class="cart-recipe-area"><b>Area:</b> ${r}</p>\n        <p class="cart-recipe-descr"><b>Description:</b> ${o}</p>\n        <p class="cart-recipe-rating"><b>Rating:</b> ${t}</p>\n        </div>\n        <button id="cart-order" type="button" class="hero__button button cart-recipe-btn" data-modal-order-cart>\n        Order now\n        </button>\n      </li>`,{results:t}=e,o=t.map((e=>r(e))).join("");m.innerHTML=o})(await c.getRecipe())}catch(e){(0,i.notifyError)()}}();
//# sourceMappingURL=cart.59f0dc12.js.map
