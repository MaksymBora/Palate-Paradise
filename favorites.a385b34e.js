!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r),r("cs7FV");var i=r("d3Gjh"),o=r("5Xw1W");function s(e){var t=localStorage.getItem(e);return JSON.parse(t)}var l=r("8nrFW");r("5Xw1W");function d(){return window.innerWidth<768?9:12}function c(e,t){for(var n={},a=0;a<e.length;a+=t){n[Math.floor(a/t)+1]=e.slice(a,a+t)}return n}var u=r("2lkGM"),f=r("au4Ux"),v=(o=r("5Xw1W"),f=r("au4Ux"),u=r("2lkGM"),r("kvC6y"));function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,v.showLoader)();var t=s("favorites-data");if(o.default.allButton.style.display=t&&t.length?"block":"none",!t||0===t.length)return o.default.noFavoritesMessage.classList.remove("visually-hidden"),o.default.allButton.classList.add("visually-hidden"),void(window.innerWidth<768&&o.default.heroImage.classList.add("visually-hidden"));var n=d(),a=c(t,n),r=Object.keys(a).length;o.default.paginationElement.style.display=r>1?"block":"none",(0,f.default)(e,n,r,g);var i=a[e].map((function(e){var t=e.title,n=e.description,a=e.preview,r=e.rating,i=e.id,o=e.category;return(0,u.renderingFavRec)(t,n,a,r,i,o)})).join("");o.default.recipesListContainer.innerHTML=i,o.default.noFavoritesMessage.classList.add("visually-hidden"),(0,v.hideLoader)()}v=r("kvC6y");var p="";l=r("8nrFW"),v=r("kvC6y");function h(e){return'<button class="fav-button">'.concat(e,"</button>")}function y(t){(0,v.showLoader)();var n=t.closest("div.recipe-item").dataset.category,a=s("favorites-data"),r=a.find((function(e){return e.category===n})),i=e(l)(refs.categoriesContainer.children).find((function(e){return e.textContent===n}));!r&&i?i.remove():r&&!i&&refs.categoriesContainer.insertAdjacentHTML("beforeend",h(n)),refs.allButton.style.display=a&&a.length?"block":"none",(0,v.hideLoader)()}v=r("kvC6y");var L=new(0,i.default);function m(){(0,v.showLoader)();var e=function(){var e=localStorage.getItem("favorites-data"),t=JSON.parse(e);return t&&0!==t.length?t.flatMap((function(e){return e.category})).filter((function(e,t,n){return n.indexOf(e)===t})).reduce((function(e,t){return e+h(t)}),""):""}(),t=s("favorites-data");o.default.recipesListContainer.innerHTML="",o.default.categoriesContainer.innerHTML=t&&t.length?"".concat('<button class="fav-button common-btn is-active" name="main-cat-btn">All categories</button>').concat(e):"",g(),(0,v.hideLoader)()}window.addEventListener("load",(function(){var e=document.querySelectorAll(".menu-nav-links");e[0].classList.contains("header-accent")&&(e[0].classList.remove("header-accent"),e.length>1&&e[1].classList.add("header-accent"))})),L.getRecipe().then((function(e){for(var t=e.results,n=[],a=0;a<6;a++)for(var r=t[a],i=r._id,o=r.title,s=r.category,l=r.rating,d=r.preview,c=r.description,u=0;u<5;u++)n.push({_id:i,title:o,category:s,rating:l,preview:d,description:c});localStorage.setItem("favorites-data",JSON.stringify(n))})),o.default.renderedRecipesBox.addEventListener("click",(function(e){var t=e.target;if(t.closest("button")){var n=t.closest("button");"favorites-data"===n.name&&(!function(e){var t=JSON.parse(e.dataset.info),n=JSON.parse(localStorage.getItem("favorites-data"));localStorage.setItem("favorites-data",JSON.stringify(n.filter((function(e){return e.id!==t.id})))),m()}(n),y(t)),"details"===n.name&&console.log("modal here")}})),o.default.categoriesList.addEventListener("click",(function(t){if((0,v.showLoader)(),!t.target.classList.contains("is-active")){var n,a,r,i=[];o.default.recipesListContainer.innerHTML="",t!==Number(t)&&"BUTTON"===t.target.nodeName&&(a=t.target,(r=document.querySelector(".is-active"))?r.classList.remove("is-active"):o.default.allButton.classList.add("is-active"),a.classList.add("is-active"),p="main-cat-btn"===t.target.name?"":t.target.textContent);var s=localStorage.getItem("favorites-data");if((i=JSON.parse(s))&&0!==i.length)if(p){n=e(l)(i.filter((function(e){return e.category===p})));var h=1;Number(t)===t&&(h=t);var y=d(),L=c(n,y),m=Object.keys(L).length;o.default.paginationElement.style.display=m>1?"block":"none",(0,f.default)(h,y,m,g);var b=L[h].reduce((function(e,t){var n=t.title,a=t.description,r=t.preview,i=t.rating,o=t.id,s=t.category;return e+(0,u.renderingFavRec)(n,a,r,i,o,s)}),"");o.default.recipesListContainer.innerHTML=b,(0,v.hideLoader)()}else g();else o.default.categoriesContainer.style.display="none"}})),document.addEventListener("DOMContentLoaded",m)}();
//# sourceMappingURL=favorites.a385b34e.js.map
